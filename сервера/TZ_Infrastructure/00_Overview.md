# UNDE Infrastructure ‚Äî –ò—Ç–æ–≥–æ–≤–æ–µ –¢–ó v6.1

## –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- **1 —Å–µ—Ä–≤–µ—Ä = 1 –∑–∞–¥–∞—á–∞** ‚Äî –∏–∑–æ–ª—è—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **Staging ‚Üí Production** ‚Äî —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ prod –Ω–∞–ø—Ä—è–º—É—é
- **–§–æ—Ç–æ —É –Ω–∞—Å** ‚Äî –Ω–µ –∑–∞–≤–∏—Å–∏–º –æ—Ç CDN –±—Ä–µ–Ω–¥–æ–≤, Zara –Ω–∞—Å –Ω–µ –≤–∏–¥–∏—Ç
- **Dubai primary, Hetzner replicas** ‚Äî primary DB –≤ –î—É–±–∞–µ (bare metal, tmpfs), Hetzner Helsinki ‚Äî hot standby replicas + –±—ç–∫–∞–ø—ã
- **RAM ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π bottleneck** ‚Äî CPU, –¥–∏—Å–∫, —Å–µ—Ç—å ‚Äî –≤—Å—ë —Å –∑–∞–ø–∞—Å–æ–º 50‚Äì100√ó. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ = –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ RAM —á–µ—Ä–µ–∑ –Ω–æ–≤—ã–µ —à–∞—Ä–¥—ã
- **–î–∞–Ω–Ω—ã–µ –Ω–∞ tmpfs, WAL –Ω–∞ NVMe** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è (–Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥—ã), durability —á–µ—Ä–µ–∑ WAL –∏ streaming replication
- **Chat History + User Knowledge = –æ–¥–∏–Ω —à–∞—Ä–¥** ‚Äî –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —é–∑–µ—Ä–∞ –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ, –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –¥–ª—è ContextPack
- **–¢—Ä–∏ —Å–ª–æ—è –∑–Ω–∞–Ω–∏—è + Epistemic Contract** ‚Äî User Knowledge (—Ñ–∞–∫—Ç—ã, –∫–µ—à —Å evidence pointers) + Semantic Retrieval (—ç–ø–∏–∑–æ–¥—ã –∏–∑ —á–∞—Ç–∞, pgvector, raw_excerpt head+tail) + Context Agent (–º–∏—Ä –≤–æ–∫—Ä—É–≥ —é–∑–µ—Ä–∞). [Epistemic Contract](../UNDE_Knowledge_Staging_Pipeline.md): RAW ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã; User Knowledge ‚Äî –∫–µ—à, –Ω–µ –ø—Ä–æ—Ñ–∏–ª—å; –ª—é–±–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è raw excerpt + message_ids. [Knowledge Staging Pipeline](../UNDE_Knowledge_Staging_Pipeline.md) ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è pipeline –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π
- **Application-level sharding** ‚Äî –ø—Ä–æ—Å—Ç–æ–π hash(user_id) % N –≤ Redis. –ù–∏–∫–∞–∫–æ–π –º–∞–≥–∏–∏ distributed SQL
- **Client-side verify-and-replay** ‚Äî –Ω—É–ª–µ–≤–∞—è –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ failover. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç –±—É—Ñ–µ—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø–∞—Ä –∏ –ø–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏ reconnect
- **Failover auto, failback manual** ‚Äî Patroni –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –Ω–∞ Hetzner –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ Dubai ‚Äî —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é
- **–¢—Ä–∏ –∞–≥–µ–Ω—Ç–∞ ‚Äî —Å–µ–Ω—Å–æ—Ä—ã –∏ –∞–∫—Ç—É–∞—Ç–æ—Ä** ‚Äî Mood Agent (–∫–∞–∫ —é–∑–µ—Ä —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—Ç) + Context Agent (—á—Ç–æ –≤–æ–∫—Ä—É–≥) = —Å–µ–Ω—Å–æ—Ä—ã ‚Üí Persona Agent (–∫–∞–∫ –∞–≤–∞—Ç–∞—Ä –≤–µ–¥—ë—Ç —Å–µ–±—è) = –∞–∫—Ç—É–∞—Ç–æ—Ä. persona_directive ‚Üí LLM, voice_params ‚Üí ElevenLabs, avatar_state ‚Üí Rive, render_hints ‚Üí App

---

## –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
                                        INTERNET
                                            ‚îÇ
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ                   ‚îÇ                   ‚îÇ
                        ‚ñº                   ‚ñº                   ‚ñº
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ  Apify.com   ‚îÇ    ‚îÇ Zara Mobile  ‚îÇ    ‚îÇ   fal.ai     ‚îÇ
                ‚îÇ  (scrapers)  ‚îÇ    ‚îÇ     API      ‚îÇ    ‚îÇ  (try-on)    ‚îÇ
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ                   ‚îÇ                   ‚ñ≤
                       ‚îÇ –†–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ       ‚îÇ 4 req/—á–∞—Å         ‚îÇ
                       ‚îÇ –ø—Ä–æ–∫—Å–∏            ‚îÇ (–Ω–∞–ª–∏—á–∏–µ)         ‚îÇ
                       ‚ñº                   ‚ñº                   ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
              ‚îÇ APIFY SERVER    ‚îÇ ‚îÇ SCRAPER SERVER  ‚îÇ          ‚îÇ
              ‚îÇ (10.1.0.7)      ‚îÇ ‚îÇ (10.1.0.3)      ‚îÇ          ‚îÇ
              ‚îÇ Hetzner Helsinki‚îÇ ‚îÇ Hetzner Helsinki‚îÇ          ‚îÇ
              ‚îÇ                 ‚îÇ ‚îÇ                 ‚îÇ          ‚îÇ
              ‚îÇ –ó–∞–¥–∞—á–∏:         ‚îÇ ‚îÇ –ó–∞–¥–∞—á–∏:         ‚îÇ          ‚îÇ
              ‚îÇ ‚Ä¢ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ    ‚îÇ ‚îÇ ‚Ä¢ Mobile API    ‚îÇ          ‚îÇ
              ‚îÇ   –∫–∞—Ç–∞–ª–æ–≥–∞      ‚îÇ ‚îÇ   (–Ω–∞–ª–∏—á–∏–µ)     ‚îÇ          ‚îÇ
              ‚îÇ                 ‚îÇ ‚îÇ ‚Ä¢ Sync job      ‚îÇ          ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
                       ‚îÇ                   ‚îÇ                   ‚îÇ
                       ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îÇ
                       ‚îÇ    ‚îÇ                                  ‚îÇ
                       ‚ñº    ‚ñº                                  ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
              ‚îÇ  STAGING DB (10.1.1.3)               ‚îÇ         ‚îÇ
              ‚îÇ  Hetzner Helsinki                    ‚îÇ         ‚îÇ
              ‚îÇ  PostgreSQL 17                       ‚îÇ         ‚îÇ
              ‚îÇ  ‚îú‚îÄ‚îÄ raw_products (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)       ‚îÇ         ‚îÇ
              ‚îÇ  ‚îú‚îÄ‚îÄ raw_availability (–Ω–∞–ª–∏—á–∏–µ)      ‚îÇ         ‚îÇ
              ‚îÇ  ‚îî‚îÄ‚îÄ scraper_logs                    ‚îÇ         ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
                                ‚îÇ                              ‚îÇ
     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
     ‚îÇ              ‚îÇ           ‚îÇ                    ‚îÇ         ‚îÇ
     ‚ñº              ‚ñº           ‚îÇ                    ‚ñº         ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇPHOTO       ‚îÇ ‚îÇXIMILAR     ‚îÇ  ‚îÇ         ‚îÇ  COLLAGE SERVER (10.1.0.8)  ‚îÇ
‚îÇDOWNLOADER  ‚îÇ ‚îÇSYNC        ‚îÇ  ‚îÇ         ‚îÇ  Hetzner Helsinki           ‚îÇ
‚îÇ(10.1.0.13) ‚îÇ ‚îÇ(10.1.0.14) ‚îÇ  ‚îÇ         ‚îÇ                             ‚îÇ
‚îÇ ‚Ä¢ –°–∫–∞—á–∞—Ç—å  ‚îÇ ‚îÇ ‚Ä¢ SKU ‚Üí    ‚îÇ  ‚îÇ         ‚îÇ  –ó–∞–¥–∞—á–∏:                    ‚îÇ
‚îÇ   —Ñ–æ—Ç–æ     ‚îÇ ‚îÇ   Ximilar  ‚îÇ  ‚îÇ         ‚îÇ  ‚Ä¢ –°–∫–∞—á–∞—Ç—å –∏–∑ /originals/   ‚îÇ
‚îÇ ‚Ä¢ Upload   ‚îÇ ‚îÇ   Collection‚îÇ  ‚îÇ         ‚îÇ  ‚Ä¢ –°–∫–ª–µ–∏—Ç—å –≤ –∫–æ–ª–ª–∞–∂         ‚îÇ
‚îÇ   –≤ OS     ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ         ‚îÇ  ‚Ä¢ Upload –≤ /collages/      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                       ‚îÇ
       ‚ñº                       ‚îÇ SYNC JOB (hourly)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚ñº
‚îÇ  OBJECT STORAGE     ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  (Hetzner Helsinki) ‚îÇ ‚îÇ  PRODUCTION DB (10.1.1.2)            ‚îÇ
‚îÇ                     ‚îÇ ‚îÇ  Hetzner Helsinki                    ‚îÇ
‚îÇ  Bucket: unde-images‚îÇ ‚îÇ  PostgreSQL 17 + PgBouncer           ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ /originals/    ‚îÇ ‚îÇ  ‚îî‚îÄ‚îÄ products                        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ /collages/     ‚îÇ ‚îÇ      ‚îú‚îÄ‚îÄ sku, name, price, brand     ‚îÇ
‚îÇ                     ‚îÇ ‚îÇ      ‚îú‚îÄ‚îÄ image_url (‚Üí /originals/)   ‚îÇ
‚îÇ  Bucket: user-media ‚îÇ ‚îÇ      ‚îú‚îÄ‚îÄ collage_url (‚Üí /collages/)  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ /{user_id}/    ‚îÇ ‚îÇ      ‚îî‚îÄ‚îÄ availability (JSONB)        ‚îÇ
‚îÇ                     ‚îÇ ‚îÇ  ‚îî‚îÄ‚îÄ routing_table (user ‚Üí shard)    ‚îÇ
‚îÇ  Bucket: backups    ‚îÇ ‚îÇ  ‚îî‚îÄ‚îÄ deleted_messages_registry       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ /shard-N/      ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îÇ
                     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ                     ‚îÇ                      ‚îÇ
                     ‚ñº                     ‚ñº                      ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ APP SERVER   ‚îÇ  ‚îÇ TRY-ON SERVICE‚îÇ  ‚îÇ RECOGNITION       ‚îÇ
              ‚îÇ (10.1.0.2)   ‚îÇ  ‚îÇ (10.1.0.6)    ‚îÇ  ‚îÇ ORCHESTRATOR      ‚îÇ
              ‚îÇ Hetzner      ‚îÇ  ‚îÇ ‚Ä¢ collage‚Üífal ‚îÇ  ‚îÇ (10.1.0.9)        ‚îÇ
              ‚îÇ ‚îî‚îÄ‚îÄ API      ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                         ‚îÇ          ‚îÇ
                     ‚îÇ                                 ‚ñº          ‚ñº
                     ‚îÇ                     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ                     ‚îÇXIMILAR GW  ‚îÇ ‚îÇLLM RERANKER‚îÇ
                     ‚îÇ                     ‚îÇ(10.1.0.15) ‚îÇ ‚îÇ(10.1.0.16) ‚îÇ
                     ‚îÇ                     ‚îÇ‚Ä¢ detect    ‚îÇ ‚îÇ‚Ä¢ Gemini tag‚îÇ
                     ‚îÇ                     ‚îÇ‚Ä¢ tag       ‚îÇ ‚îÇ‚Ä¢ Gemini    ‚îÇ
                     ‚îÇ                     ‚îÇ‚Ä¢ search    ‚îÇ ‚îÇ  rerank    ‚îÇ
                     ‚îÇ                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ  ‚îÇ LLM ORCHESTRATOR (10.1.0.17)      ‚îÇ
                     ‚îÇ  ‚îÇ Hetzner Helsinki                  ‚îÇ
                     ‚îÇ  ‚îÇ ‚Ä¢ ContextPack (3 —Å–ª–æ—è –∑–Ω–∞–Ω–∏—è)     ‚îÇ
                     ‚îÇ  ‚îÇ   ‚Üí User Knowledge + Semantic     ‚îÇ
                     ‚îÇ  ‚îÇ     Retrieval + Context Agent      ‚îÇ
                     ‚îÇ  ‚îÇ ‚Ä¢ Embedding client (Cohere)       ‚îÇ
                     ‚îÇ  ‚îÇ ‚Ä¢ ‚Üí DeepSeek/Gemini/Claude/Qwen   ‚îÇ
                     ‚îÇ  ‚îÇ ‚Ä¢ ‚Üí Voice Server (—Ç–µ–∫—Å—Ç‚ÜíTTS)      ‚îÇ
                     ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ  ‚îÇ MOOD AGENT    ‚îÇ  ‚îÇ PERSONA AGENT ‚îÇ  ‚îÇ VOICE SERVER  ‚îÇ
                     ‚îÇ  ‚îÇ (10.1.0.11)   ‚îÇ  ‚îÇ (10.1.0.21)   ‚îÇ  ‚îÇ (10.1.0.12)   ‚îÇ
                     ‚îÇ  ‚îÇ ‚Ä¢ –≠–º–æ—Ü. –∞–Ω–∞–ª–∏–∑‚îÇ  ‚îÇ ‚Ä¢ –•–∞—Ä–∞–∫—Ç–µ—Ä    ‚îÇ  ‚îÇ ‚Ä¢ ElevenLabs  ‚îÇ
                     ‚îÇ  ‚îÇ ‚Ä¢ mood_frame  ‚îÇ‚Üí ‚îÇ ‚Ä¢ persona_dir ‚îÇ‚Üí ‚îÇ ‚Ä¢ TTS stream  ‚îÇ
                     ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ ‚Ä¢ voice_params‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ                     ‚îÇ ‚Ä¢ avatar_state‚îÇ
                     ‚îÇ                     ‚îÇ ‚Ä¢ render_hints‚îÇ
                     ‚îÇ                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ  ‚îÇ CONTEXT AGENT (10.1.0.19)         ‚îÇ
                     ‚îÇ  ‚îÇ Hetzner Helsinki                  ‚îÇ
                     ‚îÇ  ‚îÇ ‚Ä¢ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è, –ø–æ–≥–æ–¥–∞, –≤—Ä–µ–º—è       ‚îÇ
                     ‚îÇ  ‚îÇ ‚Ä¢ –ö—É–ª—å—Ç—É—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (–†–∞–º–∞–¥–∞–Ω)   ‚îÇ
                     ‚îÇ  ‚îÇ ‚Ä¢ Events + Opportunities          ‚îÇ
                     ‚îÇ  ‚îÇ ‚Ä¢ ‚Üí context_frame JSON            ‚îÇ
                     ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ  ‚îÇ USER DATA LAYER (—à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)                 ‚îÇ
                     ‚îÇ  ‚îÇ                                                 ‚îÇ
                     ‚îÇ  ‚îÇ DUBAI PRIMARY SHARD (bare metal, 256 GB RAM)    ‚îÇ
                     ‚îÇ  ‚îÇ ‚îú‚îÄ‚îÄ pgdata –Ω–∞ tmpfs (RAM) ‚Äî sub-Œºs reads       ‚îÇ
                     ‚îÇ  ‚îÇ ‚îú‚îÄ‚îÄ WAL –Ω–∞ NVMe (synchronous_commit=local)     ‚îÇ
                     ‚îÇ  ‚îÇ ‚îú‚îÄ‚îÄ Chat History (pgvector, FTS, –ø–∞—Ä—Ç–∏—Ü–∏–∏)     ‚îÇ
                     ‚îÇ  ‚îÇ ‚îú‚îÄ‚îÄ User Knowledge (AES-256)                   ‚îÇ
                     ‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ Patroni primary                            ‚îÇ
                     ‚îÇ  ‚îÇ       ‚îÇ                                         ‚îÇ
                     ‚îÇ  ‚îÇ       ‚îÇ async WAL streaming (120ms)             ‚îÇ
                     ‚îÇ  ‚îÇ       ‚ñº                                         ‚îÇ
                     ‚îÇ  ‚îÇ HETZNER REPLICA (AX102, 128 GB RAM)            ‚îÇ
                     ‚îÇ  ‚îÇ ‚îú‚îÄ‚îÄ Hot standby (NVMe, fsync)                  ‚îÇ
                     ‚îÇ  ‚îÇ ‚îú‚îÄ‚îÄ Patroni + etcd ‚Üí auto failover             ‚îÇ
                     ‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ pg_basebackup ‚Üí Object Storage             ‚îÇ
                     ‚îÇ  ‚îÇ                                                 ‚îÇ
                     ‚îÇ  ‚îÇ Bucket: unde-user-media üîí                     ‚îÇ
                     ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ üì± –ü–†–ò–õ–û–ñ–ï–ù–ò–ï‚îÇ
              ‚îÇ –ö–∞—Ç–∞–ª–æ–≥      ‚îÇ
              ‚îÇ Try-on       ‚îÇ
              ‚îÇ Recognition  ‚îÇ
              ‚îÇ Voice + Mood ‚îÇ
              ‚îÇ Context      ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ö–∞—Ä—Ç–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤

### Hetzner Helsinki (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–∞—Ç–∞–ª–æ–≥, scraping, ML-pipeline)

| –°–µ—Ä–≤–µ—Ä | IP (private) | IP (public) | –ó–∞–¥–∞—á–∞ | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|--------|-------------|-------------|--------|-----|--------|
| unde-app | 10.1.0.2 | 46.62.233.30 | API, Nginx, Prometheus | CX43 (160GB) | ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç |
| scraper | 10.1.0.3 | 46.62.255.184 | Mobile API (–Ω–∞–ª–∏—á–∏–µ) + Sync | CPX22 (80GB) | ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç |
| push | 10.1.0.4 | 77.42.30.44 | Redis, Celery broker | CPX32 (160GB) | ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç |
| model-generator | 10.1.0.5 | 89.167.20.60 | AI-–º–æ–¥–µ–ª–∏ (–∞–≤–∞—Ç–∞—Ä—ã) | CPX22 (80GB) | ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç |
| tryon-service | 10.1.0.6 | 89.167.31.65 | Virtual try-on | CPX22 (80GB) | ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç |
| **apify** | **10.1.0.7** | ‚Äî | **–°–±–æ—Ä –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–∞ (Apify.com)** | **CPX21 (80GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **collage** | **10.1.0.8** | ‚Äî | **–°–∫–ª–µ–π–∫–∞ —Ñ–æ—Ç–æ** | **CPX31 (160GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **recognition** | **10.1.0.9** | ‚Äî | **Recognition Orchestrator (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è pipeline)** | **CPX11 (40GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **mood-agent** | **10.1.0.11** | ‚Äî | **Mood Agent (—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑)** | **CPX11 (40GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **voice** | **10.1.0.12** | ‚Äî | **Voice TTS (ElevenLabs proxy)** | **CPX21 (80GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **photo-downloader** | **10.1.0.13** | ‚Äî | **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ –±—Ä–µ–Ω–¥–æ–≤ ‚Üí Object Storage** | **CPX21 (80GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **ximilar-sync** | **10.1.0.14** | ‚Äî | **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ ‚Üí Ximilar Collection** | **CPX11 (40GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **ximilar-gw** | **10.1.0.15** | ‚Äî | **Ximilar Gateway (detect, tag, search)** | **CPX21 (80GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **llm-reranker** | **10.1.0.16** | ‚Äî | **LLM Reranker (Gemini tag + rerank)** | **CPX11 (40GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **llm-orchestrator** | **10.1.0.17** | ‚Äî | **–î–∏–∞–ª–æ–≥–æ–≤—ã–π LLM Orchestrator (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –∞–≤–∞—Ç–∞—Ä–∞)** | **CPX21 (80GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **context-agent** | **10.1.0.19** | ‚Äî | **Context Agent (–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è, –ø–æ–≥–æ–¥–∞, –∫—É–ª—å—Ç—É—Ä–∞, —Å–æ–±—ã—Ç–∏—è)** | **CPX11 (40GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **persona-agent** | **10.1.0.21** | ‚Äî | **Persona Agent (—Ö–∞—Ä–∞–∫—Ç–µ—Ä, —Ç–æ–Ω, —Å—Ç–∏–ª—å, –≥–æ–ª–æ—Å, –∞–≤–∞—Ç–∞—Ä, relationship stage)** | **CPX11 (40GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| Production DB | 10.1.1.2 | ‚Äî | PostgreSQL prod + routing_table + tombstone_registry | AX41 (dedicated) | ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç |
| **staging-db** | **10.1.1.3** | ‚Äî | **PostgreSQL staging** | **CPX21 (80GB)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| GitLab | ‚Äî | gitlab-real.unde.life | Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π | ‚Äî | ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç |

### Hetzner Helsinki (replicas + etcd + analytics)

| –°–µ—Ä–≤–µ—Ä | IP | –ó–∞–¥–∞—á–∞ | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|--------|----|--------|-----|--------|
| **shard-replica-0** | **10.1.1.10** | **Hot standby replica —à–∞—Ä–¥–∞ 0 (Patroni + streaming replication)** | **AX102 (128 GB RAM, 2√ó2TB NVMe)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **etcd-3** | **10.1.1.20** | **etcd quorum node (3-–π —É–∑–µ–ª –¥–ª—è Patroni)** | **CPX11 (~‚Ç¨4/–º–µ—Å)** | üÜï –°–æ–∑–¥–∞—Ç—å |
| **analytics-replica** | ‚Äî | **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞, B2B –æ—Ç—á—ë—Ç—ã, ML, –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (–§–∞–∑–∞ 2+)** | **AX162-R (256GB DDR5, $245/–º–µ—Å)** | üìã –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è |

### Dubai (primary user data ‚Äî bare metal)

| –°–µ—Ä–≤–µ—Ä | –ó–∞–¥–∞—á–∞ | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|--------|--------|-----|--------|
| **dubai-shard-0** | **Primary DB: Chat History (pgvector, FTS, –ø–∞—Ä—Ç–∏—Ü–∏–∏) + User Knowledge (AES-256). Tmpfs 140 GB, WAL –Ω–∞ NVMe** | **Bare metal dedicated (256 GB RAM, 2√ó EPYC, 2√ó 2TB NVMe)** | üÜï –ê—Ä–µ–Ω–¥–æ–≤–∞—Ç—å |
| **etcd-1** | **etcd node –Ω–∞ Dubai app-—Å–µ—Ä–≤–µ—Ä–µ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)** | **Lightweight VM / –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** | üÜï –°–æ–∑–¥–∞—Ç—å |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Chat History DB –∏ User Knowledge DB –±–æ–ª—å—à–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –Ω–∞ Hetzner. –û–Ω–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –Ω–∞ –æ–¥–Ω–æ–º —à–∞—Ä–¥–µ (Dubai bare metal primary + Hetzner AX102 replica). –≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ UNDE_Infrastructure_BD –∏ UNDE_Smart_Context_Architecture. –ü—Ä–∏ —Ä–æ—Å—Ç–µ –¥–æ 10,000 —é–∑–µ—Ä–æ–≤ ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤—Ç–æ—Ä–æ–π —à–∞—Ä–¥ (dubai-shard-1 + shard-replica-1).

---

---

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º

| –§–∞–π–ª | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ |
|------|-----------|
| **‚Üí –í—ã –∑–¥–µ—Å—å** | –ü—Ä–∏–Ω—Ü–∏–ø—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞, –∫–∞—Ä—Ç–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ |
| [01_Catalog_Pipeline.md](01_Catalog_Pipeline.md) | Scraper, Apify, Photo Downloader, Ximilar Sync, Collage, Staging DB, Object Storage |
| [02_Recognition_Pipeline.md](02_Recognition_Pipeline.md) | Recognition Orchestrator, Ximilar Gateway, LLM Reranker |
| [03_Dialogue_Pipeline.md](03_Dialogue_Pipeline.md) | Mood Agent, Voice Server, LLM Orchestrator, Context Agent, Persona Agent |
| [04_Dubai_User_Data_Shard.md](04_Dubai_User_Data_Shard.md) | Dubai Shard: —Å—Ö–µ–º–∞ –ë–î, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è, —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –±—ç–∫–∞–ø—ã |
| [05_Data_Flow.md](05_Data_Flow.md) | –î–∏–∞–≥—Ä–∞–º–º—ã –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö (7 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤) |
| [06_Operations.md](06_Operations.md) | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –¥–µ–ø–ª–æ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å |
| [UNDE_Knowledge_Staging_Pipeline.md](../UNDE_Knowledge_Staging_Pipeline.md) | Epistemic Contract, pipeline –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π, instant/batch extraction, supersede, correction loop, privacy guard, enrichment TTL |
